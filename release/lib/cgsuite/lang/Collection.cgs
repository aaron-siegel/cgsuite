class Collection : java "org.cgsuite.lang.CgsuiteCollection"

    method Apply(Procedure f)
        return listof(f(x) for x in this)
    end
    
    method FilterWith(Procedure f)
        result := [];
        for x in this do
            if f(x) then
                result.Add(x);
            end
        end
        return result;
    end
    
    property RandomElement.get
        return listof(x for x in this).RandomElement;
    end
    
end